<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Release notes</title>
<link rel="icon" type="image/png" href="/favicon16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicon32.png" sizes="32x32">
<link rel="stylesheet" type="text/css" href="/css/main.css" />
<script type="text/javascript" src="/js/main.js"></script>
</head>
<body>

<div class="headercontainer"><div class="header">
<a href="/" class="logo"><img src="/img/bitcoinjlogo.svg"></a>
<ul class="menu" id="menu">
  <li><a href="/#introduction">Introduction</a></li>
  <li><a href="/#getting-started">Getting started</a></li>
  <li><a href="/#documentation">Documentation</a></li>
  <li><a href="/#community">Community</a></li>
</ul>
</div></div>

<div class="content">
  <div id="toc" class="toc">
  <div>

<ul id="markdown-toc">
  <li><a href="#version-012">Version 0.12</a></li>
  <li><a href="#version-0112">Version 0.11.2</a></li>
  <li><a href="#version-0111">Version 0.11.1</a></li>
  <li><a href="#version-011">Version 0.11</a></li>
  <li><a href="#version-0103">Version 0.10.3</a></li>
  <li><a href="#version-0102">Version 0.10.2</a></li>
  <li><a href="#version-0101">Version 0.10.1</a></li>
  <li><a href="#version-010">Version 0.10</a></li>
  <li><a href="#version-09">Version 0.9</a></li>
  <li><a href="#version-08">Version 0.8</a></li>
  <li><a href="#version-071">Version 0.7.1</a></li>
  <li><a href="#version-07">Version 0.7</a></li>
  <li><a href="#version-06">Version 0.6</a></li>
  <li><a href="#version-05">Version 0.5</a></li>
  <li><a href="#version-041">Version 0.4.1</a></li>
  <li><a href="#version-04">Version 0.4</a></li>
  <li><a href="#version-03">Version 0.3</a></li>
</ul>

  </div>
</div>

<div class="toccontent">

  <h1 id="release-notes">Release notes</h1>

  <h2 id="version-012">Version 0.12</h2>

  <p><em>0.12 is not out yet, this section reflects changes in git master</em></p>

  <p>Upcoming work includes HD wallets, addr broadcast usage!</p>

  <ul>
    <li>Integrated Tor mode using the Orchid library. The user does not have to install the Tor client as it’s all pure Java.</li>
    <li>Reject messages are now deserialized, though not yet exposed in the API.</li>
    <li>Upgraded to Guava 16 and Bouncy Castle 1.50</li>
    <li>Thanks to Peter Dettman and the rest of the Bouncy Castle team, bitcoinj now uses deterministic ECDSA for signing.</li>
    <li>Payment protocol code improvements:  Some X.509 utility code was refactored out of PaymentSession for general usage. StartCom was added to the default trust store which was promoted to override the system trust store on non-Android platforms. </li>
    <li>Many bugfixes, minor tweaks and small new APIs.</li>
  </ul>

  <h2 id="version-0112">Version 0.11.2</h2>

  <p>This is a bugfix release.</p>

  <ul>
    <li>Risk analysis following the fee drop: you MUST upgrade to get this, or else users will start missing transactions sent to them.</li>
    <li>Fix a crash that can occur when connecting to a peer that reports a chain height of zero.</li>
    <li>Fix backoff behaviour so when the network is down and discovery fails, things backoff properly.</li>
    <li>Email addresses are now extracted properly from S/MIME certs.</li>
    <li>Disallow adding of keys that don’t match the wallet’s encryption state.</li>
    <li>Correct handling of OP_0 (full verification mode)</li>
    <li>A bundled/unified JAR is now always built.</li>
    <li>Misc other crash and bug fixes.</li>
  </ul>

  <h2 id="version-0111">Version 0.11.1</h2>

  <ul>
    <li>Wallet default risk analysis now drops dust transactions by default. A new cleanup() method is added to drop risky (i.e. not going to confirm) transactions that were allowed into the wallet by previous versions.</li>
    <li>PkiVerificationData.rootAuthorityName now exposes a user friendly name of the CA that verified the certificate of a payment request.</li>
    <li>A bloom filter bug was fixed that stopped filters from updating when a key was added. </li>
    <li>Wallet.toString() was re-arranged so that its mostly sorted from new to old.</li>
  </ul>

  <h2 id="version-011">Version 0.11</h2>

  <p>Notable changes and new features:</p>

  <ul>
    <li>Thanks to Ken Sedgwick, an implementation of <a href="https://en.bitcoin.it/wiki/BIP_0039">BIP39 (“Mnemonic code for generating deterministic keys”)</a> has been added. This is compatible with the latest Trezor implementation.</li>
    <li>Thanks to Mike Belshe, the wallet can now send to P2SH addresses.</li>
    <li>Thanks to Matt Corallo, the network layer was rewritten from scratch. It no longer depends on Netty, and it now supports both blocking and non-blocking sockets. In practice that means Java’s built in support for transparent SSL and SOCKS becomes available again, which in turn means connecting via Tor is now possible. The new framework is lightweight, easy to understand and has been running a DNS seed crawler for some months now.</li>
    <li>Thanks to Kevin Greene, we’ve added some support for the BIP70 payment protocol. Wallet authors can now consume payment requests, check their signatures and submit payments with the new easy to use <code>PaymentSession</code> class. The wallet-tool command line UI has support and <a href="/payment-protocol">an article explains how to use it</a>.</li>
    <li>Thanks to Miron Cuperman, the wallet can now watch arbitrary addresses and scripts. The wallet could previously watch an address as long as the public key was known. Now it’s possible to watch for addresses even when the public key is not known.</li>
    <li>Also thanks to Miron, Bloom filtering was also improved. The system now tracks false positive rates and cleans the filter when FP rates get too high. Unfortunately, some privacy bugs in Bloom filtering remain, which could (amongst other things) allow a malicious remote peer to test whether you own a particular key.</li>
    <li>Thanks to Alex Taylor (bitpos.me), a new PostgreSQL based pruning block store was added. This block store is fast, and indexes the UTXO set, allowing for fast lookup of the balance of any given address.</li>
    <li>A Java 8 based wallet template app is now included. The template is designed for people writing contract based applications. It provides a simple app that can be copy/pasted, which connects to the P2P network, manages a wallet, and provides a GUI that shows progress, balance, address+qrcode for receiving money and has a button that is used to empty the wallet out. It’s designed to have an attractive and modern look, with tasteful animations and artwork.</li>
    <li>Micropayment channels got many big improvements to the API and implementation. The release in 0.10 can be seen as a beta, in this release the micropayments code has been taken for a test drive for a couple of real apps and many rough edges polished as a result.</li>
    <li>The default USER_THREAD executor can now be replaced, allowing a 1-line switch of all callbacks onto a thread of your choice instead of needing to override each callback, each time. This should simplify and clean up the GUI code of wallet apps significantly.</li>
    <li>The WalletTool command line app has a more convenient user interface now.</li>
    <li>A new DNS seed has been added. The seed is run by Christian Decker, from ETH Zurich.</li>
    <li>bitcoinj 0.11 will shortly be available via Maven Central. Please use the dependency verifier plugin and/or check the PGP signatures on the uploads, if you use this!</li>
  </ul>

  <p>Smaller improvements:</p>

  <ul>
    <li>We finished adding nullity annotations to the API. You should now be able to assume that any method not annotated with @Nullable won’t ever return null values.</li>
    <li>The <code>WalletAppKit</code> got a bunch of new features and convenience APIs.</li>
    <li>The wallet will now create inputs with dummy signatures if the private key for an output is missing, rather than throwing an exception. You can then edit the input later to substitute in a real signature. This is useful when the signing is being done elsewhere, outside of the library.</li>
    <li>In full verification mode, execution of scripts (i.e. checking signatures) can now be switched off. This is useful if you trust the source of the chain and just want to calculate the UTXO set.</li>
    <li>The wallet risk analysis code is now pluggable, better documented and checks for finality in a more sensible way.</li>
    <li>Various memory usage and flow control optimisations were made to allow much larger wallets to sync on Android.</li>
    <li>The transaction broadcast algorithm was changed to be more robust.</li>
    <li>Double spend handling in the wallet was improved.</li>
    <li>Generated signatures now use canonical S values. This will aid a future hard-forking rule change which bans malleable signatures.</li>
    <li>Some fixes were made for enable usage with the Orchid Tor library. Further support for Tor is planned for future releases.</li>
  </ul>

  <p>Notable bug fixes:</p>

  <ul>
    <li>Some hard-forking full verification bugs were fixed.</li>
    <li>Thanks to Miron, <code>PeerGroup</code> now performs exponential backoff for peer connections, for instance if we cannot connect to them or if they disconnect us. This resolves an annoying bug in which if the library was configured with a single peer that was down, it would spin in a tight loop consuming battery.</li>
  </ul>

  <p>API changes:</p>

  <ul>
    <li>Some functionality of the Wallet class was moved into separate classes under the wallet package.</li>
    <li>The micropayments API and protocol changed. New clients/servers are not compatible with apps running against previous releases.</li>
    <li>The Wallet sendCoins/completeTx methods no longer return booleans or null to indicate failure, they now throw InsufficientMoneyException or a subclass if the transaction cannot be completed. The exception object typically contains information on how much money is missing. </li>
    <li>Some mis-named methods in the HD key derivation API were renamed.</li>
    <li>The <code>WalletEventListener</code> interface has an extra method for watching scripts now.</li>
    <li>Peer discovery classes moved under the net.discovery package</li>
    <li>Any APIs that relied on Netty are now different.</li>
  </ul>

  <p>New documentation:</p>

  <ul>
    <li>An article on the networking API</li>
    <li>Info on testing your apps, and how to use regtest mode to make a private Bitcoin network that allows you to mine blocks instantly.</li>
    <li>A reference table showing which API’s implement which Bitcoin Improvement Proposals (BIPs).</li>
  </ul>

  <p>Please note that as I am no longer employed by Google, after 0.11 signing the Google contributor license agreement will no longer be necessary. I look forward to welcoming contributions from Andreas Schildbach now this requirement has gone away. Also, in future I plan to re-namespace the library from com.google.bitcoin to org.bitcoinj - auto-migration scripts will be provided when this is done.</p>

  <h2 id="version-0103">Version 0.10.3</h2>

  <ul>
    <li>A regression in broadcast handling was fixed.</li>
  </ul>

  <h2 id="version-0102">Version 0.10.2</h2>

  <ul>
    <li>Some bugs related to re-org handling were fixed. All users should upgrade to get these fixes.</li>
    <li>A crash related to signing non-ASCII messages with ECKey was fixed.</li>
    <li>Misc other bugfixes</li>
  </ul>

  <h2 id="version-0101">Version 0.10.1</h2>

  <ul>
    <li>Emptying the wallet now only empties selectable outputs.</li>
  </ul>

  <h2 id="version-010">Version 0.10</h2>

  <ul>
    <li>An implementation of micropayment channels was added. There have been many bugfixes and improvements since the first announcement. This feature allows you to set up a 1:1 payment relationship with a remote server and after a short setup process send very tiny payments, very rapidly. It’s suitable for metered billing applications. An article, “Working with micropayments” explains how to use it. This work was a joint effort between Matt and myself.</li>
    <li>A simple sublibrary has been added that provides async IO based client/server classes that transmit length prefixed protocol buffers.</li>
    <li>Thanks to Matija Mazi, some classes have been added that implement the BIP 32 deterministic wallet algorithm. Note that these classes are not yet used elsewhere in the system and full deterministic wallet support is therefore not available, however, a low level API is available for experimentation. That API is very likely to change in future releases so don’t get too attached to it.</li>
    <li>Thanks to Gary Rowe, we have integrated a new Maven plugin that checks the SHA1 hashes of downloaded dependencies against a hard-coded list. This means that even if an upstream Maven repository or developer were to be compromised, library dependencies could not be switched out for corrupted versions without someone noticing. For 0.10 the dependency hashes were just initialised based on what was already downloaded. In future, reproducible builds of upstream dependencies and auditing of changes would provide better security. You can and should use <a href="https://github.com/gary-rowe/BitcoinjEnforcerRules">Gary’s plugin</a> in your own projects to defend against a possible compromise of the bitcoinj repository.</li>
    <li>Callback handling has been much improved. Each event listener can have an <code>Executor</code> specified which takes responsibility for running the callback. If you don’t specify one they run by default on a single background thread, the “user thread”, instead of the origin framework threads. This means your callbacks no longer need to be thread safe as they’re always run serially. You can also change the default executor if you would like to control the thread on which callbacks run, for example to marshal them into your GUI toolkit thread automatically. This fixes some of the most painful parts of the pre-0.10 API, for instance that transaction confidence listeners were not allowed to re-enter the library.</li>
    <li>Exception handling has also improved. You can assign a global <code>Thread.UncaughtExceptionHandler</code> which receives any exceptions thrown on the user thread (i.e. by your own event listeners), as well as any internal exceptions thrown by network threads (like inability to parse a message sent by a remote peer). Because your listeners now run on a separate thread by default, you can no longer accidentally cause internal data corruption or prevent other callbacks from running by leaking exceptions out of your callbacks; a subtle knife-edge in the previous API.</li>
    <li>We now require Bloom-capable (0.8+) peers by default and will disconnect from older nodes. This avoids accidental bandwidth saturation on mobile devices.</li>
    <li>The wallet now accepts timelocked transactions if it created them itself.</li>
    <li>The wallet can be told to empty itself out, in which case the fee will be subtracted from the total amount instead of added. This simplifies the common case of wanting to send your entire balance whilst still including a fee.</li>
    <li>Some JNI peers for event listeners were added. Auto-generated JNI bindings are experimental and not yet merged in to the mainline codebase: for now they are available as part of a separate project on github. This work allows you to access the bitcoinj API using relatively natural looking C++ code and an embedded JVM.</li>
    <li>You can now register custom <code>PeerFilterProvider</code> implementors to add things to Bloom filters that aren’t necessarily in wallets.</li>
    <li>We have begun adding nullity annotations to the API. Combined with a strong static analysis engine like FindBugs or the IntelliJ Inspector, you can find cases where you aren’t handling possible null pointers. Note that you should configure your static analysis system to understand the Guava Preconditions assertions, as otherwise you will get false positives.</li>
    <li>You can now control how much information Wallet toString() dumps contain more precisely. Extensions can contribute to a wallets debug dump as well, and transaction data is now optional.</li>
    <li>Support for automatic wallet key rotation has been added.</li>
    <li>Documentation: The getting started tutorial and PingService example were rewritten. New articles were added that cover optimising chain sync and using the library from non-Java languages. Existing articles were also extended and refreshed.</li>
    <li>Many bug fixes and new methods. You should upgrade as soon as possible to get the bug fixes, in particular, one that could cause transactions inside the same block to be incorrectly re-ordered when using Bloom filtering (which can affect the wallet). The library code now has more internal annotations to help static analysis engines, and several bugs were fixed as a result of that.</li>
  </ul>

  <p>API Changes:</p>

  <ul>
    <li>The <code>ScriptBuilder</code> class now takes <code>TransactionSignature</code> objects, these wrap a raw ECDSA signature and the SIGHASH flags together, with utility methods to work with them.</li>
    <li>The <code>Locks</code> class has been renamed to <code>Threading</code>. The thread on which callbacks run has been changed, see above.</li>
    <li>The <code>WalletEventListener.onKeyAdded</code> method became <code>onKeysAdded</code> and now takes a list, to make processing of bulk adds more efficient.</li>
    <li><code>BitcoinURIParseException</code> is now checked so you can’t forget to handle bogus URIs.</li>
    <li>The <code>Wallet.toString(..)</code> method has additional parameters now so you can control what is included in the dump.</li>
  </ul>

  <h2 id="version-09">Version 0.9</h2>

  <ul>
    <li>Thanks to Matt Corallo, we now have a basic fee solver that will attach the correct (minimum) fee per kilobyte to a created transaction using the 0.8.2+ fee rules. Note that there’s no attempt to minimize the size of a calculated transaction and thus fee, but some other optimisations are applied. By default bitcoinj will always attach a fee, to learn how to customise this refer to the article <em>Working with the wallet</em>.</li>
    <li>The wallet’s re-org handling code was rewritten and simplified.</li>
    <li>A new class, <code>WalletAppKit</code>, simplifies the process of instantiating all the objects and files that are needed to run a basic app that can send/receive money.</li>
    <li>Add optional support for Pieter Wiulle’s native secp256k1 implementation, which is significantly faster than Bouncy Castle.</li>
    <li>Improvements to coin selection in the wallet.</li>
    <li>Many new functions and minor API improvements, for instance, it’s now easier to tell the wallet to allow spending of unconfirmed coins.</li>
    <li>A new <code>ScriptBuilder</code> class simplifies the process of constructing various kinds of scripts.</li>
    <li>A new block importer tool can parse bitcoind block files and process them, which is faster than streaming them over a network connection. </li>
    <li>Support for the regtest mode added by the C++ side pull req 2632. This makes app development and testing easier by eliminating the need to wait for a block.</li>
    <li>Many bug fixes and testing improvements.</li>
  </ul>

  <p>API changes:</p>

  <ul>
    <li><code>NetworkParameters</code> has now been refactored into separate classes.</li>
    <li>Wallet extensions have been tweaked, please refer to the javadocs for details.</li>
    <li>Many other minor additions and changes that are mostly backwards compatible.</li>
  </ul>

  <h2 id="version-08">Version 0.8</h2>

  <ul>
    <li>Thanks to Jim Burton, encryption of private keys in the wallet is now supported. Keys are encrypted using an AES key derived using scrypt.</li>
    <li>A new <code>SPVBlockStore</code> provides dramatically better performance and bounded disk usage by storing block headers in an mmapped ring buffer. This makes syncing headers for new chains/wallets network bounded instead of disk io bounded.</li>
    <li>A new tool is provided to create lists of block header checkpoints that can then be used to initialize a new block store. This allows most headers to not be downloaded when initializing a new chain/wallet, making first-run of new wallets much faster.</li>
    <li>Bloom-filtering capable nodes are now queried for transactions at startup, meaning you can receive payments that weren’t confirmed yet even if your wallet wasn’t running at the time.</li>
    <li>Many static analysis warnings have been cleared.</li>
    <li>All event listeners except transaction confidence listeners now run unlocked and core objects have been converted to use cycle detecting locks. Multiple lock inversions were fixed.</li>
    <li>DNS seeds are now supported for testnet.</li>
    <li><code>PeerEventListener</code> now lets you catch and process exceptions thrown during peer message processing. This is useful for reporting crashes that don’t take out your entire app, but just result in disconnection of a peer.</li>
    <li>Matt Corallo’s bitcoind comparison tool was merged in. It runs a large set of regression tests that compares the behaviour of bitcoinj in full verification mode against bitcoind.</li>
    <li>The vast bulk of the changes in this release are bug fixes, optimizations and minor API improvements. They are too numerous to list here, please refer to the commit logs for details.</li>
  </ul>

  <p>API changes:</p>

  <ul>
    <li>Event listeners were previously locked before being called, and the object being listened to was also locked. This is no longer true - your event listeners must be thread safe and the objects that triggered the event may be changing in parallel.</li>
    <li><code>IrcDiscovery</code> is now deprecated, as LFnet has gone offline and DNS seeding can be used for both test and production networks. The code is still there in case you want to use IRC bootstrapping for a private experimental network.</li>
    <li><code>BoundedOverheadBlockStore</code> is now deprecated. It was replaced by <code>SPVBlockStore</code>. The file format has changed, so BOBS will stick around for a while so users can be upgraded.</li>
    <li>The Derby based block store has been deleted. It only supported SPV mode and wasn’t used much.</li>
    <li>The static <code>NetworkParameters</code> methods now vend singleton objects.</li>
    <li><code>WalletEventListener.onCoinsSent</code> is no longer run when a transaction sends to self but the balance doesn’t change.</li>
  </ul>

  <p>Known issues:</p>

  <ul>
    <li>Transaction confidence listeners are still run with the wallet lock held, which means it’s possible to trigger unexpected lock inversions by doing certain things inside them. Also, confidence listeners sometimes run in places where the wallet code is not fully re-entrant, meaning that modifying the wallet whilst inside a confidence listener may cause problems. A simple fix is to run your listener code in a separate thread. A future release will fix this by ensuring that listeners only ever run at the end of wallet mutating operations and with the wallet unlocked. Core objects will also switch to using non-reentrant locks so unexpected reentrancy deadlocks early and reliably.</li>
    <li>If multiple peers disconnect simultaneously it’s possible for the system to deadlock due to Netty allowing uncontrolled reentrancy when sending outbound messages (issue 381).</li>
    <li>The Wallet expects that it can store all transactions in memory (including spent transactions), eg, for rendering in lists and availability during re-orgs. On highly constrained devices like old Android phones it is possible to run out of RAM if a wallet gets very large.</li>
    <li>There are some bugs that can cause the wallet to get into an inconsistent state in various rare situations. The wallets can be fixed by replaying them. These bugs will be addressed as the next highest priority.</li>
  </ul>

  <h2 id="version-071">Version 0.7.1</h2>

  <ul>
    <li>A variety of minor bugs were fixed in this release</li>
    <li>Some Java7-isms were removed.</li>
    <li>Handle a crash in Bouncy Castle that can be caused by deliberately invalid sigs. Thanks to Sergio Damian Lerner for this fix.</li>
  </ul>

  <h2 id="version-07">Version 0.7</h2>

  <ul>
    <li>Thanks to Matt Corallo, we now support a fully verifying mode in addition to simplified verification. This is a tremendous amount of work that wouldn’t have happened without Matt! Right now, we strongly discourage anyone from using it for mining (which is not supported out of the box anyway). Use it in a production environment only if you know what you’re doing and are willing to risk losing money. If you do use it, let us know so we can contact you when problems are discovered. Read the documentation carefully before you begin.</li>
    <li>Also thanks to Matt, Bloom filtering is now implemented and activated by default. When bitcoinj connects to a peer that supports Bloom filtering, only transactions relevant to the wallet will be downloaded which makes bandwidth usage scale with the size of your wallet, not global system activity. A configurable false positive ratio allows you to trade off bandwidth vs privacy. App developers don’t need to do anything to take advantage of this, it is enabled automatically.</li>
    <li><code>PeerGroup</code> now pings its peers and calculates moving averages of the ping times. Ping time, versions and block heights are taken into account when selecting the peer to download the chain from.</li>
    <li>You can now customize which outputs the wallet uses to create spends. The new default coin selector object allows you to spend unconfirmed change as long as it’s been seen propagating across the network, addressing a common end-user pain point in wallet apps.</li>
    <li>Optimized networking code for faster startup.</li>
    <li>A new <code>PeerMonitor</code> example app shows how to put properties of connected peers into a GUI.</li>
    <li>The Wallet is now decoupled from the <code>BlockChain</code> using the new <code>BlockChainListener</code> interface. This will simplify the development of some apps that want to process transactions but not maintain an actual wallet.</li>
    <li>The dependencies of broadcast transactions are now downloaded and risk analyzed. At the moment they are only being checked for having a timelock. In future we may also analyze tree depth. The goal is to make certain kinds of protocol abuse harder. Wallets will reject timelocked transactions by default, this can be overridden via a property.</li>
    <li>You can now create timelocked transactions with WalletTool if you want to.</li>
    <li>Compressed public keys are now used by default.</li>
    <li>Support testnet3</li>
    <li>Support bitcoin-qt compatible message signing and verification.</li>
    <li>ECDSA key recovery is now implemented and allows you to obtain the public key from an extended  signature. If the signature is not extended then there are multiple key possibilities returned.</li>
    <li>Many bugfixes and minor improvements</li>
  </ul>

  <p>API changes:</p>

  <ul>
    <li><code>ECKey.sign()</code> now takes a <code>Sha256Hash</code> as an argument and returns an <code>ECDSASignature</code> object in response. To get DER encoded signatures, use the <code>encodeToDER()</code> method of <code>ECDSASignature</code>.</li>
    <li><code>ECKey.publicKeyFromPrivate</code> now takes an additional compressed parameter.</li>
    <li><code>PeerGroup.start()/PeerGroup.shutDown()</code> now run asynchronously and return futures you can use to wait for them. You cannot restart a <code>PeerGroup</code> once it has been shut down any more.</li>
  </ul>

  <h2 id="version-06">Version 0.6</h2>

  <ul>
    <li>Thanks to Jim Burton, the wallet now stores the depth and work done for all transactions, and coinbase transactions are now processed correctly. The ability to handle pubkey-only outputs was added, so these are now spendable. Migration from 0.5 wallets that don’t store this is supported, but only for depth, by using <code>WalletProtobufSerializer.setChainHeight()</code>.</li>
    <li>Made some more APIs documented and public.</li>
    <li>Improved block chain download handling.</li>
    <li>Added compatibility with the broken URIs generated by blockchain.info, meaning that the iPhone app and Android apps can now read each others QRcodes.</li>
    <li>Wallets can now auto-save themselves, taking the hassle of managing wallet persistence away from your app. See the javadocs for Wallet.autoSaveToFile() for information on this.</li>
    <li>The network layer was rewritten on top of Netty to be more robust, more scalable and to remove flakyness in the unit tests. Thanks to Miron Cuperman for this work.</li>
    <li>Thanks to Matt Corallo the ping/pong protocol is now supported. Also various protocol conformance issues and other misc bugs were resolved.</li>
    <li><code>WalletTool</code> now has a RAW_DUMP option that prints the raw protocol buffer form as text.</li>
    <li>You can now explicitly set fees on a created transaction using the fee member of <code>SendRequest</code>. Please note that the correct fees for a transaction are still not auto-calculated or minimized. This will come in a future release.</li>
    <li>Many bug fixes.</li>
  </ul>

  <p>API changes:</p>

  <ul>
    <li><code>TransactionConfidence.OVERRIDDEN_BY_DOUBLE_SPEND</code> is now called <code>DEAD</code></li>
    <li><code>PeerGroup.broadcastTransaction</code> now returns a Guava <code>ListenableFuture</code> (which is a subclass of Future, so it’s compatible). The future completes when the transaction has been heard back from the network, instead of just being written out.</li>
    <li><code>Wallet.sendCoins()</code> now returns a <code>SendResult</code> that contains both the transaction, and the future returned by <code>PeerGroup.broadcastTransaction()</code>, so it will no longer block. As a result <code>sendCoinsAsync()</code> has been removed.</li>
    <li>Various send methods on Wallet now take a <code>SendRequest</code> object that lets you customize the created transactions. The methods that let you explicitly set the change address are removed, you should set the <code>changeAddress</code>  member of the <code>SendRequest</code> instead.</li>
  </ul>

  <h2 id="version-05">Version 0.5</h2>

  <ul>
    <li>Address.getParameters() and Address#getParametersFromAddress() let you figure out for what network the address is for (test, production, etc). BitcoinURI no longer requires a NetworkParameters for the same reason.</li>
    <li>Updated to latest bouncy castle version, remove the need for the Android artifact by using the SpongyCastle build</li>
    <li>Receives pending transactions much faster than before</li>
    <li>Update to new testnet rules</li>
    <li>Wallets now store the current chain head</li>
    <li>wallet-tool can now create and broadcast transactions from the command line</li>
    <li>Wallets will now be auto-migrated to protobuf format if they were previously serialized Java objects</li>
    <li>Now uses the standard Maven directory layout</li>
    <li>Many important bugfixes</li>
  </ul>

  <p>This release included the first preview of the native API, allowing you to access bitcoinj from C++/Objective-C++ using a straightforward, intuitive mapping from the Java API. Much easier than JNI and no JVM is required, just the libgcj support library. Examples of a native Cocoa app for OS X and a command line hello world app are included. Because it’s not fully finished/documented yet, this work is available on a branch.</p>

  <h2 id="version-041">Version 0.4.1</h2>

  <p>Minor bugfixes:</p>

  <ul>
    <li>A fix for Android users only to do with alert processing</li>
  </ul>

  <h2 id="version-04">Version 0.4</h2>

  <p>New in this release:</p>

  <ul>
    <li>Ability to use “getheaders” to quickly catch up new users to the head of the chain.</li>
    <li>ECKeys no longer require the private part, allowing for “watching wallets” that cannot spend, but still gather and track the transactions associated with the public keys.</li>
    <li>A new API that implements transaction confidences. Get a quick summary or detailed information about how much confidence you can have that a given transaction won’t be reversed.</li>
    <li>A new DerbyBlockStore that stores block headers and related data in the Apache Derby relational database.</li>
    <li>Protocol buffers are now a supported serialization format for the wallet. Java serialization will continue to be supported for the next release, and then we’ll start breaking serialize compatibility. This means BitCoinJ based protobuf wallets can be read and manipulated by any language/platform with a protobufs implementation, which is most of them. There are extension points in the format to allow third parties to add new features.</li>
    <li>Various new event listeners that help you learn when the state of the wallet or transactions change.</li>
    <li>Support for post February 20th version handshakes (most library users already got this fix via backports)</li>
    <li>All event listeners are now allowed to remove themselves during their own execution.</li>
    <li>New APIs that allow you to create offline transactions and then broadcast them at a later point. Pending relevant transactions are recorded and announced to all newly connected nodes, ensuring a transaction won’t “get lost” if there was flaky network connectivity at the time of creation. Pending transactions are supported much better in this release than in previous releases.</li>
    <li>Wallet now can now take an invalid transaction and complete it by adding sufficient inputs and a change output. This enables the creation of multi-sends, as well as making experimentation with contracts easier.</li>
    <li>Updated DNS seeds list.</li>
    <li>A new WalletTool program for command line usage, and a ToyWallet app showing how to set everything up.</li>
    <li>Support for BIP 14: apps can now set their own “user agent” which will be put in the subVer field along with the library version.</li>
    <li>Support parsing and checking of alert messages.</li>
    <li>New articles explaining how to use the library.</li>
    <li>The usual assortment of bugfixes, new APIs, robustness and test suite improvements.</li>
  </ul>

  <h2 id="version-03">Version 0.3</h2>

  <p>New in this release:</p>

  <ul>
    <li>Many bugfixes, robustness and test suite improvements.</li>
    <li>Major optimizations to reduce parsing overhead, most protocol messages are now parsed on demand.</li>
    <li>A new PeerGroup API that handles the management of multiple peer connections.</li>
    <li>Switched to using Maven for the build process, removed the bundled Bouncy Castle as a result. You can now depend on BitCoinJ using Maven if you don’t need any special patches.</li>
    <li>A bunch of new APIs to make writing Bitcoin apps easier.</li>
  </ul>

</div>

</div>
</body>

<script>fallbackSVG();</script>
<script>updateToc();</script>

</html>
